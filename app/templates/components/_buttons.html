{% from 'components/_icons.html' import create, delete, edit, cancel %}

{# In your components/_macros.html or similar #}

{% macro button(text, variant='primary', icon_name=None, href=None, id='', class='', type='button') %}
    {# Determine the tag based on whether href is provided #}
    {% set tag = 'a' if href else 'button' %}

    {# Start building the tag #}
    <{{ tag }}
        {% if id %}id="{{ id }}"{% endif %}
        {# Apply base class, variant modifier, and any extra classes #}
        class="btn btn--{{ variant }} {{ class }}"
        {# Add button-specific type or link href #}
        {% if tag == 'button' %}type="{{ type }}"{% endif %}
        {% if href %}href="{{ href }}"{% endif %}
    >
        {# Conditionally include the icon span #}
        {% if icon_name %}
            {# Apply size class if provided (maps to .small, .medium etc. on the icon) #}
            <span class="material-symbols-outlined btn__icon" aria-hidden="true">{{ icon_name }}</span>
        {% endif %}

        {# Always include the text span (CSS handles hiding it on mobile) #}
        <span class="btn__text">{{ text }}</span>

    </{{ tag }}>
{% endmacro %}
